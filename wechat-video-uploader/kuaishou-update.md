# 快手上传脚本更新文档

## 更新内容

### 2023-02-28 更新

1. 修改了封面选择器的选择方式
   - 问题：快手网站的封面选择器CSS类名会变化，原固定选择器 `_recommend-cover-item_y5cqm_157` 已失效
   - 解决方案：改为动态识别以 `_recommend-cover-item_` 开头的选择器
   - 实现方法：使用正则表达式匹配页面中所有以 `_recommend-cover-item_` 开头的类名
   - 影响范围：仅影响快手视频上传时的封面选择功能

## 技术实现

1. 使用 `page.$$eval()` 方法获取所有 div 元素
2. 使用正则表达式筛选出类名包含 `_recommend-cover-item_` 的元素
3. 根据筛选结果获取正确的选择器
4. 使用新的选择器选择第三张封面图片

## 测试方法

1. 使用非 headless 模式运行脚本
2. 观察封面选择过程是否正常
3. 验证是否成功选择了第三张封面图片

## 注意事项

1. 如果快手网站未来更改了封面元素的命名模式，可能需要进一步调整选择器的识别方式
2. 建议定期检查脚本运行情况，确保封面选择功能正常工作
